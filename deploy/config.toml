# Ithaca Account Deployment Configuration
# Single source of truth for all deployment and fork configurations
# This file extends foundry.toml and contains both Foundry fork configs and deployment-specific settings

# ============================================
# GLOBAL DEPLOYMENT CONFIGURATION
# ============================================

[deployment]
registry_path = "deploy/registry/"

# ============================================
# FORK CONFIGURATIONS (for vm.readFork* cheatcodes)
# ============================================

# Sepolia
[forks.sepolia]
rpc_url = "${RPC_11155111}"

[forks.sepolia.vars]
chain_id = 11155111
name = "Sepolia"
is_testnet = true
pause_authority = "0x0000000000000000000000000000000000000001"
funder_owner = "0x0000000000000000000000000000000000000003"
funder_signer = "0x0000000000000000000000000000000000000002"
settler_owner = "0x0000000000000000000000000000000000000004"
l0_settler_owner = "0x0000000000000000000000000000000000000005"
layerzero_endpoint = "0x6EDCE65403992e310A62460808c4b910D972f10f"
layerzero_eid = 40161
salt = "0x0000000000000000000000000000000000000000000000000000000000000000"
target_balance = 50000000000000000 # 0.05 ether
# Specify contracts to deploy. Use ["ALL"] to deploy all available contracts
contracts = ["Orchestrator", "IthacaAccount", "AccountProxy", "Simulator", "SimpleFunder", "Escrow", "SimpleSettler", "LayerZeroSettler"]
# SimpleFunder configuration
simple_funder_address = "0x2AD8F6a3bB1126a777606eaFa9da9b95530d9597"
default_num_signers = 10
# LayerZero configuration (copied from Base Sepolia for testing)
# TODO: Set correct addresses here.
layerzero_settler_address = "0x4225041FF3DB1C7d7a1029406bB80C7298767aca"
layerzero_send_uln302 = "0xC1868e054425D378095A003EcbA3823a5D0135C9"
layerzero_receive_uln302 = "0x12523de19dc41c91F7d2093E0CFbB76b17012C8d"
layerzero_destination_chain_ids = [84532, 11155420]
layerzero_required_dvns = ["dvn_layerzero_labs"]
layerzero_optional_dvns = []
layerzero_optional_dvn_threshold = 0
layerzero_confirmations = 1
layerzero_max_message_size = 10000
# DVN addresses
dvn_layerzero_labs = "0x8eebf8b423B73bFCa51a1Db4B7354AA0bFCA9193"
dvn_google_cloud = "0x8e5a7b5959C5A7C732b87dCE401E07F5819eEC2d"
dvn_polyhedra = "0xF7aEc122EEEB66d2c7F9444D4DDaDcD17a2D8a07"

# Base Sepolia
[forks.base-sepolia]
rpc_url = "${RPC_84532}"

[forks.base-sepolia.vars]
chain_id = 84532
name = "Base Sepolia"
is_testnet = true
pause_authority = "0x0000000000000000000000000000000000000001"
funder_owner = "0x0000000000000000000000000000000000000003"
funder_signer = "0x0000000000000000000000000000000000000002"
settler_owner = "0x0000000000000000000000000000000000000004"
l0_settler_owner = "0xB6918DaaB07e31556B45d7Fd2a33021Bc829adf4"
layerzero_endpoint = "0x6EDCE65403992e310A62460808c4b910D972f10f"
layerzero_eid = 40245
salt = "0x0000000000000000000000000000000000000000000000000000000000000001"
target_balance = 1000000000000000 # 0.001 ether
# Specify contracts to deploy. Use ["ALL"] to deploy all available contracts
contracts = ["ALL"]  # Deploy all contracts
# SimpleFunder configuration
simple_funder_address = "0x2AD8F6a3bB1126a777606eaFa9da9b95530d9597"
default_num_signers = 10
# LayerZero configuration
layerzero_settler_address = "0x4225041FF3DB1C7d7a1029406bB80C7298767aca"
layerzero_send_uln302 = "0xC1868e054425D378095A003EcbA3823a5D0135C9"
layerzero_receive_uln302 = "0x12523de19dc41c91F7d2093E0CFbB76b17012C8d"
layerzero_destination_chain_ids = [11155420]
layerzero_required_dvns = ["dvn_layerzero_labs"]
layerzero_optional_dvns = []
layerzero_optional_dvn_threshold = 0
layerzero_confirmations = 1
layerzero_max_message_size = 10000
# DVN addresses
dvn_layerzero_labs = "0xe1a12515F9AB2764b887bF60B923Ca494EBbB2d6"
dvn_google_cloud = "0xFc9d8E5d3FaB22fB6E93E9E2C90916E9dCa83Ade"
dvn_polyhedra = "0xdEe09d2Ee2e8F260cB4b1Ac93703FBc88C1a2273"

# Optimism Sepolia
[forks.optimism-sepolia]
rpc_url = "${RPC_11155420}"

[forks.optimism-sepolia.vars]
chain_id = 11155420
name = "Optimism Sepolia"
is_testnet = true
pause_authority = "0x0000000000000000000000000000000000000001"
funder_owner = "0x0000000000000000000000000000000000000003"
funder_signer = "0x0000000000000000000000000000000000000002"
settler_owner = "0x0000000000000000000000000000000000000004"
l0_settler_owner = "0xB6918DaaB07e31556B45d7Fd2a33021Bc829adf4"
layerzero_endpoint = "0x6EDCE65403992e310A62460808c4b910D972f10f"
layerzero_eid = 40232
salt = "0x0000000000000000000000000000000000000000000000000000000000000001"
target_balance = 10000000000000000 # 0.01 ether
# Specify contracts to deploy. Use ["ALL"] to deploy all available contracts
contracts = ["ALL"]  # Deploy all contracts
# SimpleFunder configuration
simple_funder_address = "0x2AD8F6a3bB1126a777606eaFa9da9b95530d9597"
default_num_signers = 10
# LayerZero configuration
layerzero_settler_address = "0x4225041FF3DB1C7d7a1029406bB80C7298767aca"
layerzero_send_uln302 = "0xB31D2cb502E25B30C651842C7C3293c51Fe6d16f"
layerzero_receive_uln302 = "0x9284fd59B95b9143AF0b9795CAC16eb3C723C9Ca"
layerzero_destination_chain_ids = [84532]
layerzero_required_dvns = ["dvn_layerzero_labs"]
layerzero_optional_dvns = []
layerzero_optional_dvn_threshold = 0
layerzero_confirmations = 1
layerzero_max_message_size = 10000
# DVN addresses
dvn_layerzero_labs = "0x28B6140ead70cb2Fb669705b3598ffB4BEaA060b"
dvn_google_cloud = "0x28b8B8Ea5C695EFa657B6b86a4a8E90ccbA93E9e"
dvn_polyhedra = "0xB3b137c0785f54e15b3569b1A06C59cE5f9aaFA3"